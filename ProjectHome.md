

&lt;H1&gt;

ABOUT THIS PROJECT

&lt;/H1&gt;





&lt;B&gt;

I have now logged more than a year of weather data for my location!! Database is ~32MB.

&lt;/B&gt;



This project is about the development of code to do the following:

1. Interface an arduino controller board to weather sensors (currently only the unit comprising Rain gauge, wind vane, anemometer available on sparkfun electronics, sensors category)


&lt;B&gt;

NEW: added connection to a photocell and can now measure light levels

&lt;/B&gt;

.

2. to simultaneously Interface the same controller board to an SHT-15 sensor for temperature and relative humidity.

3. To interface the same controller board to an ethernet shield that sends weather information to a network.

4. to interface the same controller to an LCD screen displaying real-time weather information (the LCD is cabled and placed inside the house - typically)


&lt;B&gt;

NEW: removed from rev 4

&lt;/B&gt;

.

(all of the above code is included on a.pde file for the arduino). For extra functionality, also included is:

5. PHP code for periodic upload of weather data and placing that info on a mySQL database (periodicity is done with crontab on a linux machine)

6. PHP code to periodically save a chart with the weather data to an online server. The charts can then be fetched by any website.


&lt;B&gt;

NEW: Now the data is uploaded to thingspeak.com and the charts are not generated by the code anymore

&lt;/B&gt;

.



&lt;H1&gt;

STEP BY STEP INSTALLATION TUTORIAL (Contributed by Peppe 14.07.2011, thanks!)

&lt;/H1&gt;



1. Download Arduino IDE0017 from <a href='http://code.google.com/p/arduino/downloads/list'>here</a>.

2. Download SHT1x library from <a href='http://www.arduino.cc/playground/Code/Sensirion#SHT1x'>here</a> and copy it to 0017-Arduino\hardware\libraries

3. Download Timer1 library from <a href='http://www.arduino.cc/playground/Code/Timer1'>here</a> and copy it to 0017-Arduino\hardware\libraries

4. Download Webduino library from <a href='http://code.google.com/p/webduino'>here</a> and copy it to 0017-Arduino\hardware\libraries

5. Open the pde file you  download from this site and modify to your liking (IP address, description text...)

6. Compile and download if you are using the Duemilanove or proceed for the arduino UNO:

7. Go to the temporary folder (example in Windows to run type "% temp%") and in folder "build ..... tmp" to download the file generated in **.hex**

8. Connect the Arduino UNO and check the USB port is connected.

9. In ubuntu 10.04 for example (/dev/ttyACM1) and upload _. hex file with this command "avrdude -p m328p -P /dev/ttyACM1 -b 115200 -c stk500v1 -F -U flash:w:/$your path/**25\_06\_2011\_revision\_4.cpp.hex"**

10. Test ARDUINO with open browser and write "http://IP address in PDE Files"_

11. Works!!!



&lt;H1&gt;

HARDWARE:

&lt;/H1&gt;


Anemometer (Digital pin 2 - pin 2 of RJ11, pin 3 to ground), rain gauge (Digital pin 3), wind vane (Analog pin 5 -> pin 1 of RJ45, pin 4 to ground) from <a href='http://www.sparkfun.com/products/8942'>here</a>.

Temperature and Humidity sensor from <a href='http://www.sparkfun.com/products/8257'>here</a>.

Photo resistor on pin analog 0 and connected just as described <a href='http://www.arduino.cc/playground/Learning/PhotoResistor'>here</a>.

Arduino Diecimilla + Official Ethernet Shield
(old version, but should work with new version)



&lt;H1&gt;

OUTPUT CHARTS

&lt;/H1&gt;


See my 1-day charts <a href='http://supertechman.blogspot.com/p/weather-station-hourly-charts.html'>here</a>.